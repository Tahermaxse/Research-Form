"use client";

import React, { forwardRef, useRef } from "react";

import { cn } from "@/lib/utils";
import { AnimatedBeam } from './AnimatedBeam'

// eslint-disable-next-line react/display-name
const Circle = forwardRef<
  HTMLDivElement,
  { className?: string; children?: React.ReactNode }
>(({ className, children }, ref) => {
  return (
    <div
      ref={ref}
      className={cn(
        "z-10 flex h-20 w-20 items-center justify-center rounded-full border-2 bg-white p-3 ",
        className ?? '',
      )}
    >
      {children}
    </div>
  );
});

export function AnimatedBeamDemo() {
  const containerRef = useRef<HTMLDivElement>(null);
  const div1Ref = useRef<HTMLDivElement>(null);
  const div2Ref = useRef<HTMLDivElement>(null);

  return (
    <div
      className="relative flex w-full max-w-full items-center justify-center overflow-hidden rounded-lg  bg-background "
      ref={containerRef}
    >
      <div className="flex h-full w-full flex-col items-stretch justify-between gap-10 pt-5">
        <div className="flex flex-row justify-between">
          <Circle ref={div1Ref}>
            <Icons.user />
          </Circle>
          <Circle ref={div2Ref}>
            <Icons.brain />
          </Circle>
        </div>
      </div>

      <AnimatedBeam
        containerRef={containerRef}
        fromRef={div1Ref}
        toRef={div2Ref}
        startYOffset={10}
        endYOffset={10}
        curvature={-20}
      />
      <AnimatedBeam
        containerRef={containerRef}
        fromRef={div1Ref}
        toRef={div2Ref}
        startYOffset={-10}
        endYOffset={-10}
        curvature={20}
        reverse
      />
    </div>
  );
}

const Icons = {
  brain: () => (
    <svg width="45" height="45" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12.4566 11.1113C12.4578 11.2292 12.4274 11.3833 12.3957 11.5104C12.1745 12.4042 11.192 13.4071 9.80908 13.3158C8.55575 13.2333 7.53491 12.6317 7.53491 11.7879C7.53491 10.9442 8.55325 10.26 9.80908 10.26C11.0649 10.26 12.4487 10.2675 12.4566 11.1113Z" fill="#EA596E"/>
<path d="M9.80924 10.4016C9.13466 10.4016 7.59508 10.5883 7.24174 10.5883C6.61758 10.5883 6.11133 10.9799 6.11133 11.4633C6.11133 11.6958 6.23049 11.9058 6.42133 12.0624C6.42133 12.0624 6.84049 12.4829 7.59549 12.2812C7.92591 12.1929 8.46341 11.537 9.40966 11.4329C9.88091 11.3808 10.7638 11.7454 12.3155 11.7541C12.3822 11.6108 12.3959 11.5112 12.3959 11.5112C12.3959 10.6666 11.0651 10.4016 9.80924 10.4016Z" fill="#DD2E44"/>
<path d="M12.3959 11.5103C12.3959 11.5103 13.3059 11.3258 13.8717 10.5816C14.5313 9.71368 14.4447 8.78493 14.4447 8.78493C15.113 7.53493 14.2363 6.36284 14.2363 6.36284C14.1492 5.04326 13.3334 4.49659 13.3334 4.49659C12.8038 3.23784 11.6322 2.89951 11.6322 2.89951C10.7122 1.82326 9.08008 1.85784 9.08008 1.85784C9.08008 1.85784 7.55092 1.29743 5.45175 1.92743C5.10467 2.03159 3.94133 2.27451 3.0905 2.79534C0.408834 4.43701 0.205917 6.99701 0.243417 7.41326C0.451333 9.73951 2.08342 10.1562 3.12508 10.3991C3.368 11.0587 4.26217 12.2741 5.868 11.8228C7.84717 11.4758 8.6805 10.8853 9.16675 10.8853C9.653 10.8853 11.0072 11.4062 12.3959 11.5103Z" fill="#F4ABBA"/>
<path d="M7.39035 7.77012C8.36035 7.2472 8.88618 7.29595 9.35035 7.33804C9.49785 7.35137 9.63743 7.36179 9.77868 7.36095C10.6054 7.3422 11.2749 6.99387 11.5712 6.65679C11.6052 6.6149 11.6216 6.56149 11.6171 6.50775C11.6125 6.45401 11.5874 6.40411 11.5469 6.36851C11.5064 6.3329 11.4536 6.31435 11.3998 6.31675C11.3459 6.31915 11.295 6.34231 11.2579 6.38137C11.0295 6.64137 10.4666 6.92845 9.7691 6.94429C9.6441 6.94804 9.51868 6.93554 9.38868 6.92345C8.89077 6.8772 8.27243 6.82054 7.19243 7.40345C6.91535 7.55304 6.53535 7.60845 6.12368 7.65012C5.20827 6.32887 5.7591 5.17804 5.9166 4.90387C5.93202 4.9047 5.94702 4.9097 5.96285 4.9097C6.12952 4.9097 6.29702 4.86887 6.44868 4.78304C6.49489 4.75491 6.52834 4.70991 6.54196 4.65756C6.55559 4.60521 6.54832 4.54962 6.52169 4.50253C6.49506 4.45545 6.45117 4.42057 6.39928 4.40526C6.3474 4.38996 6.2916 4.39544 6.24368 4.42054C6.1126 4.4927 5.95912 4.51274 5.81391 4.47667C5.66869 4.4406 5.54243 4.35106 5.46035 4.22595C5.42937 4.18226 5.38274 4.15218 5.33017 4.14196C5.27759 4.13174 5.22309 4.14216 5.178 4.17107C5.1329 4.19997 5.10067 4.24513 5.088 4.29717C5.07532 4.34921 5.08318 4.40413 5.10993 4.45054C5.20868 4.60512 5.34785 4.72137 5.50493 4.79929C5.28785 5.24012 4.87577 6.39929 5.65993 7.69554C5.10827 7.7497 4.55577 7.82762 4.12327 8.10637C3.81939 8.30567 3.55425 8.55853 3.34077 8.85262C3.07868 8.80762 2.1191 8.57137 1.9516 7.50637C2.05577 7.42554 2.13993 7.31887 2.19202 7.1872C2.20208 7.16176 2.20704 7.13458 2.20661 7.10722C2.20617 7.07986 2.20035 7.05286 2.18948 7.02775C2.17861 7.00264 2.1629 6.97991 2.14324 6.96087C2.12359 6.94184 2.10038 6.92685 2.07493 6.91679C2.04949 6.90672 2.02231 6.90176 1.99495 6.9022C1.96759 6.90263 1.94059 6.90845 1.91548 6.91932C1.89037 6.9302 1.86764 6.94591 1.8486 6.96556C1.82957 6.98521 1.81458 7.00843 1.80452 7.03387C1.78881 7.07769 1.76375 7.11757 1.73109 7.15074C1.69842 7.18391 1.65893 7.20958 1.61535 7.22595C1.5712 7.24054 1.52444 7.24548 1.47823 7.24045C1.43201 7.23542 1.38741 7.22053 1.34743 7.19679C1.32352 7.18349 1.29723 7.17503 1.27005 7.1719C1.24287 7.16877 1.21534 7.17102 1.18903 7.17852C1.13589 7.19368 1.09095 7.22933 1.0641 7.27762C1.03725 7.32591 1.03068 7.38289 1.04584 7.43603C1.061 7.48916 1.09664 7.5341 1.14493 7.56095C1.26327 7.62679 1.38993 7.66012 1.51577 7.66012C1.53118 7.66012 1.54577 7.65304 1.56118 7.6522C1.75952 8.65762 2.5541 9.09929 3.11618 9.23304C3.04266 9.38968 2.99604 9.55758 2.97827 9.7297C2.97341 9.78473 2.99061 9.83944 3.02609 9.88179C3.06156 9.92414 3.1124 9.95067 3.16743 9.95554L3.18618 9.95637C3.23826 9.95636 3.28844 9.93685 3.32685 9.90169C3.36526 9.86652 3.3891 9.81824 3.39368 9.76637C3.43868 9.26095 3.92077 8.73304 4.3491 8.45595C4.75077 8.1972 5.33868 8.14262 5.90785 8.0897C6.45993 8.03929 6.9816 7.99095 7.39035 7.77012ZM12.7512 7.14345C12.7247 7.19197 12.7185 7.24903 12.734 7.30208C12.7496 7.35514 12.7856 7.39985 12.8341 7.42637C12.8826 7.45289 12.9397 7.45906 12.9927 7.44351C13.0458 7.42796 13.0905 7.39197 13.117 7.34345C13.1249 7.32929 13.8845 5.90637 12.4624 4.95012C12.4166 4.91929 12.3603 4.90794 12.3061 4.91856C12.2519 4.92919 12.2041 4.96093 12.1733 5.00679C12.1424 5.05265 12.1311 5.10888 12.1417 5.16311C12.1523 5.21733 12.1841 5.26512 12.2299 5.29595C13.3316 6.03679 12.7754 7.09845 12.7512 7.14345ZM4.11493 3.77929C4.14798 3.77929 4.18056 3.77144 4.20998 3.75637C4.23939 3.7413 4.2648 3.71945 4.2841 3.69262C4.88827 2.8522 5.72493 3.1397 5.76035 3.15304C5.81167 3.16997 5.86756 3.16631 5.91622 3.14281C5.96489 3.11932 6.00252 3.07783 6.02118 3.02712C6.03983 2.9764 6.03805 2.92042 6.0162 2.87099C5.99436 2.82156 5.95416 2.78255 5.9041 2.7622C5.5041 2.61387 4.58035 2.5672 3.94577 3.4497C3.92349 3.48083 3.91022 3.51749 3.90741 3.55566C3.9046 3.59383 3.91236 3.63203 3.92984 3.66609C3.94731 3.70014 3.97383 3.72871 4.00649 3.74868C4.03914 3.76865 4.07666 3.77924 4.11493 3.77929ZM9.5616 2.99262C10.4887 2.9172 10.9104 3.58929 10.9295 3.62095C10.9575 3.66864 11.0033 3.70324 11.0569 3.71715C11.0834 3.72403 11.111 3.72563 11.1381 3.72185C11.1652 3.71807 11.1913 3.70899 11.2149 3.69512C11.2385 3.68125 11.2592 3.66286 11.2757 3.64101C11.2922 3.61916 11.3042 3.59427 11.3111 3.56777C11.318 3.54127 11.3196 3.51367 11.3158 3.48655C11.3121 3.45942 11.303 3.43331 11.2891 3.4097C11.2666 3.37179 10.7308 2.48554 9.5291 2.5772C9.50182 2.57934 9.47523 2.58682 9.45085 2.59923C9.42647 2.61164 9.40477 2.62873 9.38699 2.64953C9.35108 2.69153 9.33333 2.74607 9.33764 2.80116C9.34195 2.85625 9.36797 2.90737 9.40997 2.94327C9.45197 2.97918 9.50651 2.99693 9.5616 2.99262ZM13.3741 9.08054C13.2716 9.0747 13.1587 9.15595 13.1495 9.27095C13.1487 9.27845 13.0824 9.9872 12.3537 10.2268C12.306 10.2418 12.2654 10.2734 12.2391 10.3159C12.2129 10.3584 12.2028 10.4089 12.2107 10.4582C12.2187 10.5075 12.2441 10.5523 12.2824 10.5844C12.3206 10.6165 12.3692 10.6338 12.4191 10.633C12.4412 10.633 12.4631 10.6295 12.4841 10.6226C13.4724 10.2985 13.5616 9.34595 13.5649 9.30554C13.5672 9.27822 13.5641 9.25073 13.5557 9.22463C13.5474 9.19853 13.5339 9.17434 13.5162 9.15344C13.4985 9.13254 13.4768 9.11534 13.4524 9.10283C13.428 9.09032 13.4014 9.08274 13.3741 9.08054Z" fill="#EA596E"/>
<path d="M3.06118 7.05586C3.05299 7.08259 3.05026 7.1107 3.05315 7.13851C3.05605 7.16632 3.06451 7.19326 3.07804 7.21773C3.09157 7.2422 3.10989 7.26369 3.1319 7.28093C3.15391 7.29818 3.17917 7.31081 3.20617 7.31808C3.23316 7.32536 3.26135 7.32712 3.28904 7.32327C3.31674 7.31942 3.34337 7.31004 3.36736 7.29568C3.39135 7.28132 3.41221 7.26228 3.42868 7.23969C3.44516 7.2171 3.45692 7.19143 3.46326 7.16419C3.50338 7.01983 3.59667 6.896 3.72437 6.81762C3.85207 6.73924 4.00471 6.71211 4.1516 6.74169C4.17838 6.7473 4.20601 6.74758 4.2329 6.74251C4.25979 6.73744 4.28542 6.72713 4.30833 6.71216C4.33123 6.69718 4.35096 6.67784 4.36639 6.65524C4.38183 6.63265 4.39266 6.60723 4.39826 6.58044C4.40387 6.55366 4.40415 6.52603 4.39908 6.49914C4.39401 6.47225 4.3837 6.44662 4.36873 6.42372C4.35375 6.40081 4.33441 6.38108 4.31181 6.36565C4.28922 6.35022 4.2638 6.33939 4.23701 6.33378C4.06363 6.29852 3.88393 6.3109 3.71701 6.36961C3.23118 5.53878 3.32576 4.71961 3.32701 4.71086C3.33436 4.65611 3.31965 4.60068 3.28613 4.55676C3.25261 4.51285 3.20302 4.48405 3.14826 4.47669C3.09369 4.46968 3.03855 4.4844 2.99474 4.51769C2.95092 4.55097 2.92196 4.60015 2.9141 4.65461C2.90868 4.69503 2.79743 5.61961 3.35701 6.57711C3.21461 6.70508 3.11193 6.87125 3.06118 7.05586ZM7.7191 6.02669C7.80232 5.9511 7.91103 5.90975 8.02345 5.91091C8.13587 5.91207 8.2437 5.95566 8.32535 6.03294C8.36502 6.0714 8.41834 6.09252 8.47359 6.09166C8.52883 6.0908 8.58147 6.06803 8.61993 6.02836C8.65844 5.98874 8.67963 5.93545 8.67885 5.88021C8.67807 5.82496 8.65538 5.77229 8.61576 5.73378C8.52168 5.64419 8.40796 5.57784 8.28368 5.54003C8.40701 5.11669 8.35826 4.92878 8.24368 4.57669C8.22102 4.5078 8.19921 4.43863 8.17826 4.36919L8.16576 4.32753C8.0141 3.82419 7.91368 3.49211 8.20201 3.02336C8.23097 2.97629 8.24003 2.91964 8.22722 2.86588C8.2144 2.81212 8.18076 2.76565 8.13368 2.73669C8.0866 2.70774 8.02995 2.69868 7.97619 2.71149C7.92243 2.72431 7.87597 2.75795 7.84701 2.80503C7.46035 3.43336 7.60243 3.90378 7.76701 4.44836L7.77951 4.49003C7.80396 4.57058 7.8266 4.64239 7.84743 4.70544C7.95035 5.02253 7.9816 5.12878 7.85576 5.51211C7.69823 5.54025 7.55214 5.61316 7.43493 5.72211C7.39598 5.76014 7.37346 5.8119 7.37219 5.86632C7.37092 5.92074 7.39101 5.9735 7.42814 6.0133C7.46527 6.0531 7.51651 6.07679 7.57089 6.07929C7.62527 6.08179 7.67846 6.06292 7.7191 6.02669ZM10.3712 4.78294C10.4949 4.78332 10.6172 4.75613 10.7291 4.70336C10.7791 4.67982 10.8177 4.63739 10.8364 4.58538C10.8551 4.53338 10.8524 4.47607 10.8289 4.42607C10.8054 4.37607 10.7629 4.33746 10.7109 4.31874C10.6589 4.30003 10.6016 4.30274 10.5516 4.32628C10.4492 4.37328 10.3328 4.37976 10.2258 4.34444C10.1188 4.30911 10.0292 4.23459 9.97493 4.13586C9.96255 4.11083 9.94526 4.08854 9.92409 4.07032C9.90292 4.0521 9.87831 4.03833 9.85171 4.02981C9.82511 4.0213 9.79707 4.01822 9.76926 4.02076C9.74144 4.0233 9.71443 4.0314 9.68981 4.04459C9.66519 4.05778 9.64348 4.07578 9.62595 4.09753C9.60843 4.11928 9.59546 4.14433 9.58782 4.17119C9.58017 4.19805 9.57801 4.22618 9.58145 4.25389C9.58489 4.28161 9.59386 4.30835 9.60785 4.33253C9.68285 4.47253 9.79451 4.58294 9.92451 4.65961C9.70076 5.20336 9.82785 5.78086 9.9316 6.08711C9.93953 6.11399 9.95281 6.13898 9.97063 6.16061C9.98845 6.18223 10.0104 6.20004 10.0353 6.21297C10.0602 6.22589 10.0874 6.23367 10.1153 6.23583C10.1433 6.23799 10.1714 6.2345 10.1979 6.22555C10.2245 6.21661 10.2489 6.2024 10.2699 6.18377C10.2908 6.16514 10.3078 6.14249 10.3198 6.11715C10.3317 6.09182 10.3385 6.06433 10.3396 6.03633C10.3407 6.00833 10.3361 5.98039 10.3262 5.95419C10.2562 5.74669 10.1203 5.22253 10.3253 4.77669C10.3412 4.77753 10.3558 4.78294 10.3712 4.78294ZM12.3699 8.71169C12.3683 8.68433 12.3613 8.65756 12.3493 8.63292C12.3373 8.60829 12.3205 8.58628 12.3 8.56818C12.2794 8.55008 12.2554 8.53625 12.2294 8.52748C12.2035 8.51872 12.176 8.51519 12.1487 8.51711C12.0488 8.52401 11.9485 8.51111 11.8536 8.47915C11.7587 8.44719 11.671 8.3968 11.5956 8.33087C11.5203 8.26493 11.4586 8.18476 11.4143 8.09495C11.37 8.00514 11.3439 7.90747 11.3374 7.80753C11.3326 7.75278 11.3068 7.70202 11.2654 7.6659C11.224 7.62977 11.1702 7.61109 11.1153 7.61378C11.088 7.61563 11.0614 7.62284 11.0368 7.63501C11.0123 7.64717 10.9904 7.66405 10.9725 7.68468C10.9545 7.7053 10.9407 7.72927 10.932 7.75521C10.9233 7.78115 10.9197 7.80856 10.9216 7.83586C10.9387 8.08169 11.0324 8.30336 11.1749 8.48378C10.8399 8.87794 10.4012 8.99003 10.1566 9.01878C9.94035 9.04461 9.75118 9.02253 9.53243 8.99669C9.33201 8.97378 9.10535 8.94753 8.82493 8.95586L8.82285 8.95628C8.81451 8.83711 8.78618 8.66336 8.69576 8.51878C8.66468 8.47596 8.6185 8.44655 8.56655 8.43648C8.51461 8.42642 8.46078 8.43645 8.41596 8.46455C8.37113 8.49266 8.33865 8.53673 8.32507 8.58787C8.3115 8.63901 8.31785 8.69339 8.34285 8.74003C8.39868 8.82961 8.4091 8.97253 8.4091 9.04211C8.1991 9.11753 8.01743 9.22836 7.85326 9.33544C7.55993 9.52628 7.32868 9.67711 6.98076 9.59878C6.66576 9.52669 6.35035 9.51211 6.08285 9.54961C6.04118 9.44503 5.97535 9.32003 5.87368 9.22378C5.83351 9.18582 5.77991 9.16537 5.72466 9.16693C5.66942 9.1685 5.61706 9.19194 5.5791 9.23211C5.54114 9.27228 5.52069 9.32588 5.52225 9.38113C5.52382 9.43637 5.54726 9.48874 5.58743 9.52669C5.62326 9.56044 5.6516 9.60961 5.67451 9.65878C5.21493 9.84794 4.98451 10.1642 4.97368 10.1796C4.95158 10.2107 4.93846 10.2473 4.93578 10.2854C4.93309 10.3235 4.94093 10.3615 4.95845 10.3954C4.97596 10.4293 5.00247 10.4578 5.03507 10.4776C5.06767 10.4975 5.1051 10.508 5.14326 10.5079C5.17621 10.5081 5.20871 10.5004 5.23812 10.4856C5.26753 10.4707 5.29299 10.4491 5.31243 10.4225C5.31451 10.4192 5.54326 10.1129 5.99451 9.98919C6.22785 9.92503 6.56243 9.93044 6.88868 10.0046C6.97993 10.0254 7.06451 10.0325 7.1466 10.0338C7.18535 10.1246 7.20035 10.2325 7.20243 10.2725C7.20541 10.3257 7.22861 10.3756 7.26727 10.4122C7.30594 10.4488 7.35713 10.4692 7.41035 10.4692L7.4216 10.4688C7.47658 10.4659 7.52817 10.4413 7.5651 10.4005C7.60203 10.3596 7.62129 10.3059 7.61868 10.2509C7.61181 10.1538 7.59363 10.0579 7.56451 9.96503C7.7566 9.89544 7.92368 9.78669 8.08076 9.68461C8.3191 9.52919 8.54451 9.38211 8.8391 9.37253C9.08576 9.36378 9.2891 9.38753 9.48535 9.41044C9.68285 9.43336 9.87701 9.44836 10.0912 9.43586C10.1291 9.54128 10.1262 9.68211 10.1203 9.72919C10.1168 9.75853 10.1195 9.78828 10.1283 9.8165C10.1371 9.84471 10.1518 9.87075 10.1713 9.8929C10.1909 9.91505 10.2149 9.93282 10.2418 9.94503C10.2687 9.95725 10.2979 9.96364 10.3274 9.96378C10.3779 9.9637 10.4267 9.94528 10.4646 9.91194C10.5026 9.8786 10.5271 9.83261 10.5337 9.78253C10.5488 9.64587 10.5405 9.50764 10.5091 9.37378C10.8892 9.27291 11.2299 9.05922 11.4862 8.76086C11.6927 8.88863 11.9339 8.94879 12.1762 8.93294C12.2312 8.9292 12.2824 8.90381 12.3188 8.86234C12.3551 8.82087 12.3735 8.7667 12.3699 8.71169Z" fill="#EA596E"/>
</svg>

  ),
  user: () => (
    <svg
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="#000000"
      strokeWidth="2"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />
      <circle cx="12" cy="7" r="4" />
    </svg>
  ),
};
